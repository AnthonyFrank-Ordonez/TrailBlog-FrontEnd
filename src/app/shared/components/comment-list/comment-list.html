@for (comment of comments(); track $index) {
  <app-comment-card
    [comment]="comment"
    (commentDetailAction)="handleCommentDetailAction($event)"
    [menuItems]="commentMenuItems"
    [isHidden]="comment.isDeleted"
    [isAdmin]="isAdmin()"
    (commentMenuAction)="handleCommentMenuAction($event)"
  />
  <div class="mt-3 mb-3 border-b border-b-white/10"></div>
}

@if (isCommentLoading()) {
  @for (skeleton of skeletonArray; track $index) {
    <div class="animate-pulse rounded-lg px-4 py-3">
      <!-- Skeleton Header -->
      <div class="flex items-center justify-between">
        <!-- User info skeleton -->
        <div class="flex items-center space-x-2">
          <!-- Avatar skeleton -->
          <div class="h-5.5 w-5.5 rounded-full bg-gray-700"></div>
          <!-- Username skeleton -->
          <div class="h-3 w-20 rounded bg-gray-700"></div>
          <!-- Timestamp skeleton -->
          <div class="h-3 w-14 rounded bg-gray-700"></div>
        </div>
        <!-- Three dots skeleton -->
        <div class="h-4 w-4 rounded-full bg-gray-700"></div>
      </div>

      <!-- Content skeleton -->
      <div class="mt-3 space-y-2">
        <div class="h-3 w-full rounded bg-gray-700"></div>
        <div class="h-3 w-3/4 rounded bg-gray-700"></div>
      </div>
    </div>
    <div class="mt-3 mb-3 border-b border-b-white/10"></div>
  }
}

@if (!isCommentLoading() && !hasMore() && comments().length > 0) {
  <div class="py-8 text-center text-gray-400">You've reached the end!</div>
}

@if (comments().length === 0 && !isCommentLoading()) {
  <div class="py-12 text-center text-gray-400">No Comments found</div>
}

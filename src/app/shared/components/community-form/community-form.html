<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 -mt-3">
  <!-- left side form -->
  <div class="order-2 lg:order-1">
    <form [formGroup]="communityForm" (ngSubmit)="handleCommunitySubmit()" class="space-y-3">
      <!-- Community Name -->
      <div>
        <label for="community-name" class="block text-gray-500 font-medium mb-2"
          >Community Name:</label
        >
        <input
          type="text"
          id="community-name"
          formControlName="name"
          required
          class="w-full px-4 py-2 text-sm text-white rounded-lg bg-gray-500/50 placeholder:text-white/30 focus:border-transparent focus:ring-gray-500 focus:ring-2"
          placeholder="e.g., Angular Developers"
        />
        <p class="mt-1.5 text-xs text-gray-500 dark:text-gray-400 flex justify-end">
          {{ communityNameLength }}/50 characters
        </p>
      </div>

      <!-- Description -->
      <div>
        <label for="description" class="block text-gray-500 font-medium mb-2">Description</label>
        <textarea
          id="description"
          formControlName="description"
          rows="6"
          required
          maxlength="500"
          class="w-full px-4 py-2 rounded-lg text-sm bg-gray-500/50 placeholder:text-white/30 resize-none text-white focus:border-transparent focus:ring-gray-500 focus:ring-2"
          placeholder="What is your community about?"
        ></textarea>
        <p class="mt-1.5 text-xs text-gray-500 dark:text-gray-400 flex justify-end">
          {{ descriptionLength }}/300 characters
        </p>
      </div>

      <div class="flex justify-start gap-3 pt-3 dark:border-gray-700">
        <button
          type="button"
          (click)="cancelCreateCommunity()"
          class="px-5 py-3 text-sm cursor-pointer text-white bg-gray-700 hover:bg-gray-600 rounded-xl transition-colors font-medium"
        >
          Cancel
        </button>
        <button
          type="submit"
          class="px-5 py-3 text-sm text-white bg-secondary hover:bg-secondary/80 disabled:cursor-not-allowed rounded-xl transition-colors font-medium cursor-pointer"
        >
          @if (this.isSubmitting()) {
            <div class="flex items-center justify-center py-2.5 px-15">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 200 200"
                class="w-8 h-8 absolute"
              >
                <circle fill="#FFEAC4" stroke="#FFEAC4" stroke-width="12" r="15" cx="40" cy="100">
                  <animate
                    attributeName="opacity"
                    calcMode="spline"
                    dur="2"
                    values="1;0;1;"
                    keySplines=".5 0 .5 1;.5 0 .5 1"
                    repeatCount="indefinite"
                    begin="-.4"
                  ></animate>
                </circle>
                <circle fill="#FFEAC4" stroke="#FFEAC4" stroke-width="12" r="15" cx="100" cy="100">
                  <animate
                    attributeName="opacity"
                    calcMode="spline"
                    dur="2"
                    values="1;0;1;"
                    keySplines=".5 0 .5 1;.5 0 .5 1"
                    repeatCount="indefinite"
                    begin="-.2"
                  ></animate>
                </circle>
                <circle fill="#FFEAC4" stroke="#FFEAC4" stroke-width="12" r="15" cx="160" cy="100">
                  <animate
                    attributeName="opacity"
                    calcMode="spline"
                    dur="2"
                    values="1;0;1;"
                    keySplines=".5 0 .5 1;.5 0 .5 1"
                    repeatCount="indefinite"
                    begin="0"
                  ></animate>
                </circle>
              </svg>
            </div>
          } @else {
            Create Community
          }
        </button>
      </div>
    </form>
  </div>

  <!-- right side preview -->
  <div class="order-1 lg:order-2">
    <div class="lg:sticky">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-1">Preview</h3>
      <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">See how your community will look</p>

      <div
        class="border-2 border-white/30 rounded-lg overflow-hidden bg-gray-black shadow shadow-gray-500"
      >
        <div class="px-3 py-2">
          <div class="flex items-center space-x-2">
            <div class="w-7 h-6 bg-green-500 rounded-full flex items-center justify-center">
              <span class="text-white text-xs font-bold">
                {{ communityName || 'Community Name' | initials }}
              </span>
            </div>

            <h4 class="text-lg font-medium text-white/50 line-clamp-1 break-words max-w-xs w-full">
              <span> {{ communityName || 'Community Name' }} </span>
            </h4>
          </div>

          <div class="">
            <h4 class="text-sm font-medium text-white/30 break-words ml-8">
              <span> {{ descriptionValue || 'Your community description' }} </span>
            </h4>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

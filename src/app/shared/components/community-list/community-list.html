@if (communitiesLoading()) {
  @for (item of skeletonArray; track $index) {
    <div class="flex animate-pulse items-center justify-between px-4 py-3">
      <div class="flex items-center space-x-2">
        <!-- skeleton avatar -->
        <div class="h-10 w-10 rounded-full bg-gray-700"></div>

        <!-- skeleton text -->
        <div class="flex flex-col">
          <div class="mb-2 h-4 w-40 rounded bg-gray-700"></div>
          <div class="h-3 w-56 rounded bg-gray-700"></div>
        </div>
      </div>

      <!-- skeleton actions -->
      <div class="flex items-center space-x-3">
        <div class="h-6 w-6 rounded bg-gray-700"></div>
        <div class="h-8 w-20 rounded-full bg-gray-700"></div>
      </div>
    </div>
  }
} @else {
  @for (community of filteredUserCommunities(); track community.id) {
    <app-community-card
      [community]="community"
      [isFavorite]="isCommunityFavorite(community.id)"
      (toggleFavoriteAction)="handleCommunityFavorite($event)"
      (leaveCommunityAction)="handleLeaveCommunity($event)"
    />
  }
}

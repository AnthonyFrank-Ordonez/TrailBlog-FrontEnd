<div class="p-5 flex items-center justify-center mx-auto max-w-md h-screen">
  <div class="border border-gray-600 w-full rounded-xl p-7 flex flex-col justify-center">
    <div class="flex flex-col items-center space-y-2 mb-8">
      <p class="text-secondary font-semibold text-[1.7rem] lg:text-3xl tracking-wide">
        Welcome back to Trail
      </p>
      <span
        class="text-white/30 font-light tracking-wider text-center max-w-[18rem] lg:max-w-xs text-xs lg:text-sm"
        >Sign in to post, comment, and explore the latest on Trail.</span
      >
    </div>

    <form
      [formGroup]="loginForm"
      (ngSubmit)="onLogin()"
      class="flex flex-col w-full max-w-90 mx-auto mb-3"
    >
      <!-- Username -->
      <div
        class="flex flex-col w-full bg-gray-700/10 border border-gray-600/30 px-3.5 py-1 rounded-md gap-1 mb-3"
      >
        <label for="username" class="text-gray-500 font-light text-sm form-label">Username</label>
        <input
          id="username"
          formControlName="username"
          type="text"
          class="form-control text-white focus:outline-none focus:border-transparent text-sm font-light"
        />

        <!-- @if (loginForm.get('username')?.touched && loginForm.get('username')?.hasError('required'))
        {
        <p class="text-red-500 text-xs mt-1">Username is required</p>
        } -->
      </div>

      <!-- Password -->
      <div
        class="flex flex-col w-full bg-gray-700/10 border border-gray-600/30 px-3.5 py-1 rounded-md gap-1 mb-2"
      >
        <label for="password" class="text-gray-500 font-light text-sm form-label">Password</label>
        <input
          id="password"
          formControlName="password"
          type="password"
          class="form-control text-white focus:outline-none focus:border-transparent text-sm font-light"
        />
      </div>

      <!-- Forgot Password -->
      <a href="#" class="text-gray-600 cursor-pointer text-sm font-semibold tracking-wide mb-4">
        Forgot Password?
      </a>

      <button
        type="submit"
        [disabled]="loginForm.invalid"
        class="w-full rounded-lg bg-secondary text-white py-3 tracking-wider text-sm cursor-pointer transition-colors duration-300 hover:bg-secondary/80 focus:outline-none focus:ring-2 focus:ring-orange-300 focus:border-transparent disabled:cursor-not-allowed"
      >
        @if (this.isLoading()) {
          <div class="flex items-center justify-center py-2.5">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" class="w-8 h-8 absolute">
              <circle fill="#FFEAC4" stroke="#FFEAC4" stroke-width="12" r="15" cx="40" cy="100">
                <animate
                  attributeName="opacity"
                  calcMode="spline"
                  dur="2"
                  values="1;0;1;"
                  keySplines=".5 0 .5 1;.5 0 .5 1"
                  repeatCount="indefinite"
                  begin="-.4"
                ></animate>
              </circle>
              <circle fill="#FFEAC4" stroke="#FFEAC4" stroke-width="12" r="15" cx="100" cy="100">
                <animate
                  attributeName="opacity"
                  calcMode="spline"
                  dur="2"
                  values="1;0;1;"
                  keySplines=".5 0 .5 1;.5 0 .5 1"
                  repeatCount="indefinite"
                  begin="-.2"
                ></animate>
              </circle>
              <circle fill="#FFEAC4" stroke="#FFEAC4" stroke-width="12" r="15" cx="160" cy="100">
                <animate
                  attributeName="opacity"
                  calcMode="spline"
                  dur="2"
                  values="1;0;1;"
                  keySplines=".5 0 .5 1;.5 0 .5 1"
                  repeatCount="indefinite"
                  begin="0"
                ></animate>
              </circle>
            </svg>
          </div>
        } @else {
          Sign In
        }
      </button>
    </form>

    <div class="flex items-center w-full max-w-xs mx-auto mb-3">
      <div class="flex-grow border-t border-gray-600"></div>
      <span class="mx-3 text-white/50 text-sm">or</span>
      <div class="flex-grow border-t border-gray-600"></div>
    </div>

    <button
      class="flex items-center justify-center space-x-2 max-w-90 mx-auto w-full rounded-lg bg-secondary text-white py-3 tracking-wider text-sm cursor-pointer transition-colors duration-300 hover:bg-secondary/80 focus:outline-none focus:ring-2 focus:ring-orange-300 focus:border-transparent mb-5"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-google"
        viewBox="0 0 16 16"
        class="h-4 w-4 -mt-0.5"
      >
        <path
          d="M15.545 6.558a9.4 9.4 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.7 7.7 0 0 1 5.352 2.082l-2.284 2.284A4.35 4.35 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.8 4.8 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.7 3.7 0 0 0 1.599-2.431H8v-3.08z"
        />
      </svg>

      <span>Continue with Google</span>
    </button>

    <!-- Create an Account -->
    <div class="text-white flex space-x-1.5 items-center justify-center">
      <p class="font-light text-sm text-gray-400">Dont Have an Account?</p>
      <p
        class="text-sm text-secondary cursor-pointer hover:underline transition duration-300"
        routerLink="/register"
      >
        Sign Up
      </p>
    </div>
  </div>
</div>
